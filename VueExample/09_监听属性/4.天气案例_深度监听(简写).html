<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>4.天气案例_深度监听(简写)</title>
     <!-- 引入Vue.js -->
     <script type="text/javascript" src="../js/vue.js"></script>
</head>
<body>
    <div id="root">
        <h3>今天天气很{{ info }}</h3>
        <button @click="changeWeather">切换天气</button>
       </div>

       <script type="text/javascript">
        Vue.config.productionTip = false
        const vm = new Vue({
        el: '#root',
        data: {isHot: true,},
        computed: {info() {return this.isHot ? '炎热' : '凉爽'}},
        methods: {changeWeather() {this.isHot = !this.isHot}},
        watch: {
            // 正常写法
            // isHot: {
            //  immediate:true, //初始化时让handler调用一下
            //  deep:true, //深度监视
            // handler(newValue, oldValue) {
             // console.log('isHot被修改了', newValue, oldValue)
            // }
            // },
            //简写
        isHot(newValue, oldValue) {
            console.log('isHot被修改了', newValue, oldValue, this)
        }
        }
        })
        //正常写法
            // vm.$watch('isHot', {
            // immediate: true, //初始化时让handler调用一下
            // deep: true,//深度监视
            // handler(newValue, oldValue) {
            // console.log('isHot被修改了', newValue, oldValue)
            // }
            // })l
        //简写
        // vm.$watch('isHot', (newValue, oldValue) => {
        // console.log('isHot被修改了', newValue, oldValue, this)
        // })

       </script>
</body>
</html>
